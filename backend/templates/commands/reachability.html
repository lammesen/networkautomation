{% extends "base.html" %}
{% block title %}Reachability Check - webnet{% endblock %}

{% block content %}
<!-- Page Header -->
<div class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between mb-6">
  <div>
    <h1 class="text-2xl font-bold tracking-tight">Reachability Check</h1>
    <p class="text-muted-foreground">Verify network connectivity to target devices</p>
  </div>
</div>

<div class="max-w-xl">
  <!-- Form Card -->
  <div class="rounded-lg border bg-card p-6">
    <form hx-post="" hx-target="#reach-result" class="space-y-4">
      {% csrf_token %}
      
      <div class="space-y-2">
        <label for="targets" class="text-sm font-medium leading-none">Target Devices</label>
        <input type="text" name="targets" id="targets"
               class="flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring" 
               placeholder="e.g., site=lab,vendor=cisco" />
        <p class="text-xs text-muted-foreground">Filter devices by key=value pairs. Leave empty to check all devices.</p>
      </div>

      <div class="border-t pt-4">
        <button type="submit" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring h-9 px-4 py-2 w-full bg-primary text-primary-foreground shadow hover:bg-primary/90">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          Run Reachability Check
        </button>
      </div>
    </form>

    <div id="reach-result" class="mt-4"></div>
  </div>

  <!-- Info Card -->
  <div class="rounded-lg border bg-card p-6 mt-6">
    <div class="flex items-center gap-2 mb-3">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
      <h3 class="font-semibold text-sm">About Reachability Checks</h3>
    </div>
    <p class="text-sm text-muted-foreground">
      This will attempt to establish SSH connections to verify that devices are reachable 
      and responding. Results will be logged in the job output.
    </p>
  </div>
</div>
{% endblock %}
