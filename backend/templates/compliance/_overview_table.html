<div class="relative w-full overflow-auto">
  <table class="w-full caption-bottom text-sm">
    <thead class="[&_tr]:border-b">
      <tr class="border-b transition-colors">
        <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground">Policy</th>
        <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground">Customer</th>
        <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground">Latest Status</th>
      </tr>
    </thead>
    <tbody class="[&_tr:last-child]:border-0">
      {% for row in summary %}
      <tr class="border-b transition-colors hover:bg-muted/50">
        <td class="p-4 align-middle font-medium">{{ row.policy.name }}</td>
        <td class="p-4 align-middle">
          <span class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold">{{ row.policy.customer.name }}</span>
        </td>
        <td class="p-4 align-middle">
          {% if row.status == "pass" %}
            <span class="inline-flex items-center gap-1 rounded-full bg-success/10 px-2.5 py-0.5 text-xs font-semibold text-success">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              Pass
            </span>
          {% elif row.status == "fail" %}
            <span class="inline-flex items-center gap-1 rounded-full bg-destructive/10 px-2.5 py-0.5 text-xs font-semibold text-destructive">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
              Fail
            </span>
          {% else %}
            <span class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold">{{ row.status }}</span>
          {% endif %}
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="3" class="p-4 text-center py-12">
          <div class="flex flex-col items-center gap-2 text-muted-foreground">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
            </svg>
            <p class="font-medium">No compliance data available</p>
            <p class="text-sm">Run compliance checks to see status overview.</p>
          </div>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
