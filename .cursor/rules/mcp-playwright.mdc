---
description: When/how/why to use Playwright MCP for browser automation
globs: ["**/tests/**", "**/test_*.py", "**/*e2e*"]
alwaysApply: false
---

# Playwright MCP - Browser Automation & E2E Testing

**When to use:**
- Writing E2E tests
- Browser automation workflows
- Testing user flows
- Visual regression testing
- Cross-browser testing

**How to use:**
```typescript
// Navigate
mcp_playwright_browser_navigate({ url: "http://localhost:8000" })

// Take snapshot (accessibility tree)
mcp_playwright_browser_snapshot()

// Interact
mcp_playwright_browser_click({
  element: "Submit button",
  ref: "element-ref"
})
mcp_playwright_browser_type({
  element: "Email input",
  ref: "input-ref",
  text: "user@example.com"
})

// Fill forms
mcp_playwright_browser_fill_form({
  fields: [{
    name: "Email",
    type: "textbox",
    ref: "email-ref",
    value: "user@example.com"
  }]
})

// Screenshots
mcp_playwright_browser_take_screenshot({ fullPage: true })

// Run custom Playwright code
mcp_playwright_browser_run_code({
  code: "await page.getByRole('button').click();"
})
```

**Why:**
- Reliable E2E testing
- Cross-browser support
- Accessibility-first (snapshots)
- Real user simulation

**Use cases:**
- E2E test automation (`/e2e-test` command)
- User flow testing
- Form submission testing
- HTMX interaction testing

**Prefer over:**
- Manual testing
- Chrome DevTools for automation (Playwright is better for tests)
